(()=>{"use strict";var e=function(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");n(t)}},t=function(t){t.classList.add("popup_is-opened"),document.addEventListener("keydown",e)},n=function(t){t.classList.remove("popup_is-opened"),document.removeEventListener("keydown",e)},r=function(e){e.target.classList.contains("popup")&&n(e.target)},o=function(e,t,n,r){var o=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),c=o.querySelector(".card__image"),d=o.querySelector(".card__title");c.src=e.link,c.alt=e.name,d.textContent=e.name;var u=o.querySelector(".card__like-button");return u.addEventListener("click",(function(){return n(u)})),c.addEventListener("click",(function(){return r(c,d)})),o.querySelector(".card__delete-button").addEventListener("click",(function(){return t(o)})),o},c=function(e){e.classList.toggle("card__like-button_is-active")},d=function(e){e.remove()},u=document.querySelector(".places__list"),a=document.querySelectorAll(".popup"),i=document.querySelector(".popup_type_edit"),p=document.querySelector(".popup_type_new-card"),s=document.querySelector(".popup__image"),l=document.querySelector(".popup__caption"),m=document.querySelector(".popup_type_image"),v=document.querySelector(".profile__title"),f=document.querySelector(".profile__description"),_=document.querySelector(".profile__edit-button"),y=document.querySelector(".profile__add-button"),k=document.forms.newPlace,q=document.forms.editProfile,S=q.name,L=q.description,g=function(e,n){s.src=e.src,s.alt=e.alt,l.textContent=n.textContent,t(m)};[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){u.append(o(e,d,c,g))})),q.addEventListener("submit",(function(e){e.preventDefault();var t=S.value,r=L.value;v.textContent=t,f.textContent=r,n(i),q.reset()})),k.addEventListener("submit",(function(e){e.preventDefault();var t={name:k.name.value,link:k.link.value};u.prepend(o(t,d,c,g)),n(p),k.reset()})),a.forEach((function(e){e.querySelector(".popup__close").addEventListener("click",(function(){return n(e)})),e.addEventListener("click",r)})),_.addEventListener("click",(function(){S.value=v.textContent,L.value=f.textContent,t(i)})),y.addEventListener("click",(function(){return t(p)}))})();